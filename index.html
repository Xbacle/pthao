<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bbi Th·∫£o, em c√≥ iu anh kh√¥ng?</title>

<style>
    body {
        background: #ffe6f7;
        margin: 0;
        padding-top: 40px;
        font-family: "Poppins", sans-serif;
        text-align: center;
    }

    h1 {
        font-size: clamp(20px, 5vw, 32px);
        color: #ff3fa3;
        text-shadow: 0 0 12px white;
        margin-bottom: 25px;
    }

    /* GI·ªÆ NGUY√äN SPRITE */
    #capoo {
        width: 131px;
        height: 131px;
        background-image: url("capoo.png");
        background-size: 525px 394px;
        margin: auto;
        margin-bottom: 28px;
        animation: float 2s ease-in-out infinite;
    }

    @keyframes float {
        0% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
        100% { transform: translateY(0); }
    }

    .btn-container {
        margin-top: 20px;
        display: flex;
        gap: 28px;
        justify-content: center;
        position: relative;
    }

    button {
        padding: 14px 28px;
        font-size: clamp(18px, 4.5vw, 24px);
        border: none;
        border-radius: 14px;
        cursor: pointer;
        transition: 0.25s ease;
    }

    #yes {
        background: #ff75c8;
        color: white;
        box-shadow: 0 0 14px rgba(255,100,200,.55);
        position: relative;
        z-index: 2;
    }

    #no {
        background: #eee;
        color: #333;
        position: relative;
        z-index: 2;
    }

    .heart-pop {
        position: fixed;
        font-size: 24px;
        animation: popUp .6s ease-out forwards;
        pointer-events: none;
    }

    @keyframes popUp {
        0% { opacity:1; transform: translateY(0) scale(1); }
        100% { opacity:0; transform: translateY(-60px) scale(1.7); }
    }
</style>
</head>
<body>

<h1>Bbi Th·∫£o, em c√≥ iu anh hong? üíó</h1>

<div id="capoo"></div>

<div class="btn-container">
    <button id="yes">C√≥ ‚ù§Ô∏è</button>
    <button id="no">Kh√¥ng üíî</button>
</div>

<script>
/* --- SPRITE CAPOO --- */
const FRAME_COLS = 4, FRAME_ROWS = 3, TOTAL = 12;
const frameW = 525 / FRAME_COLS, frameH = 394 / FRAME_ROWS;
let f = 0;
const capoo = document.getElementById("capoo");

setInterval(() => {
    const col = f % FRAME_COLS;
    const row = Math.floor(f / FRAME_COLS);
    capoo.style.backgroundPosition = `-${col * frameW}px -${row * frameH}px`;
    f = (f + 1) % TOTAL;
}, 90);

/* --- BUTTON LOGIC --- */
const no = document.getElementById("no");
const yes = document.getElementById("yes");

/* N√∫t kh√¥ng ‚Üí n√∫t c√≥ to l√™n + n√∫t kh√¥ng ch·∫°y */
no.addEventListener("click", () => {
    // N√∫t C√≥ to th√™m 10%
    let currentScale = parseFloat(yes.dataset.scale || 1);
    currentScale += 0.1;
    yes.dataset.scale = currentScale;
    yes.style.transform = `scale(${currentScale})`;

    // N√∫t Kh√¥ng nh·∫£y trong m√†n h√¨nh
    const screenW = window.innerWidth;
    const screenH = window.innerHeight;

    const btnW = no.offsetWidth;
    const btnH = no.offsetHeight;

    const maxX = screenW - btnW - 20;
    const maxY = screenH - btnH - 20;

    const newX = Math.random() * maxX;
    const newY = Math.random() * maxY;

    no.style.position = "fixed";
    no.style.left = `${newX}px`;
    no.style.top = `${newY}px`;
});

/* N√∫t C√≥ ‚Üí tr√°i tim + chuy·ªÉn trang */
yes.addEventListener("click", () => {
    const heart = document.createElement("div");
    heart.className = "heart-pop";
    heart.innerHTML = "‚ù§Ô∏è";
    document.body.appendChild(heart);

    const rect = yes.getBoundingClientRect();
    heart.style.left = rect.left + rect.width/2 + "px";
    heart.style.top = rect.top - 10 + "px";

    setTimeout(() => heart.remove(), 700);
    setTimeout(() => window.location.href = "love.html", 400);
});
</script>

</body>
</html>
